
import { useEffect } from 'react';
import { EnhancedAutoSyncService } from '../services/EnhancedAutoSyncService';

/**
 * ูุฐุง ุงูููู ูููู ุจุชููุฆุฉ ูุฅุฏุงุฑุฉ ุฎุฏูุฉ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ ุงููุญุณูุฉ ุงูุฌุฏูุฏุฉ
 * ูุฌุจ ุงุณุชุฎุฏุงูู ูู ุงููููู ุงูุฑุฆูุณู ููุชุทุจูู (App.tsx)
 */
export const useEnhancedAutoSync = () => {
  useEffect(() => {
    // ุชููุฆุฉ ุฎุฏูุฉ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ ุงููุญุณูุฉ ุงูุฌุฏูุฏุฉ
    console.log('๐ ุชููุฆุฉ ุฎุฏูุฉ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ ุงููุญุณูุฉ ูุน NewsAPI ู ุงูุฐูุงุก ุงูุงุตุทูุงุนู...');
    const autoSync = EnhancedAutoSyncService.getInstance();
    
    // ุชูููุฐ ูุฒุงููุฉ ูุฏููุฉ ุนูุฏ ุจุฏุก ุงูุชุทุจูู ุจุนุฏ ุชุฃุฎูุฑ ูุตูุฑ
    setTimeout(() => {
      console.log('๐ ุจุฏุก ุฃูู ูุฒุงููุฉ ุชููุงุฆูุฉ...');
      autoSync.manualSync();
    }, 5000);
    
    return () => {
      // ุชูุธูู ุงูุฎุฏูุฉ ุนูุฏ ุฅุบูุงู ุงูุชุทุจูู
      console.log('๐งน ุชูุธูู ุฎุฏูุฉ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ ุงููุญุณูุฉ...');
      autoSync.destroy();
    };
  }, []);
};

export default useEnhancedAutoSync;
